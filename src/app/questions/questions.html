<div layout="column" layout-fill>
    <div flex="10" layout="row" ng-show="vm.hasPrevious()">
        <div flex class="colorblack bottombtn" layout="column" layout-align="center center" ng-click="vm.back()">
            BACK
        </div>
    </div>
    <div flex layout="column">
        <div flex layout="column" layout-align="center center" layout-padding>
            <div ng-if="!vm.allowOther()"><h2 class="md-display-1 center">{{ vm.questionText }}</h2></div>
            <div ng-if="vm.allowOther()"><h4 class="md-subhead center">{{ vm.questionText }}</h4></div>
        </div>

        <!-- Text input -->
        <div flex="noshrink" ng-if="vm.qtype == 'text'" layout="column" layout-align="center bottom" layout-padding>
            <md-input-container class="textInput">
                <textarea md-no-resize ng-model="vm.input"></textarea> 
            </md-input-container>
        </div>

        <!-- Number input -->
        <div flex="noshrink" ng-if="vm.qtype == 'number'" layout="column" layout-align="center center" layout-padding>
            <md-input-container class="numberInput" flex>
                <input ng-model="vm.input" type="number">
            </md-input-container>
        </div>

        <!-- Multiselect input -->
        <div flex="noshrink" ng-if="vm.qtype == 'multiselect'" layout="row" layout-padding layout-wrap>
            <div data-ng-repeat="option in vm.options">
                <md-checkbox ng-click="vm.toggleSelection(option)" ng-checked="vm.isChecked(option)">
                    {{ option }}
                </md-checkbox>
           </div>
           <div ng-if="vm.allowOther()">
               <md-checkbox ng-click="vm.toggleOther()" ng-checked="vm.otherChecked">
                    Other
                </md-checkbox>
            </div>
        </div>
        <div flex="15" layout="column" layout-align="end none" layout-padding ng-if="vm.otherChecked">
            <md-input-container>
                <label>Other</label>
                <input ng-disabled="!vm.otherChecked" type="text" ng-model="vm.other">
            </md-input-container>
        </div>
    </div>

    <!-- Bottom buttons -->
    <!-- Yes/no buttons -->
    <div ng-if="vm.qtype == 'yesno'" flex="15" layout="row">
        <div flex="50" class="colorgrey bottombtn" layout="column" layout-align="center center" ng-click="vm.answer(false)">
            NO
        </div>
        <div flex="50" class="colorred bottombtn" layout="column" layout-align="center center" ng-click="vm.answer(true)">
            YES
        </div>
    </div>

    <!--  Text/number/multiselect button -->
    <div ng-if="vm.qtype != 'yesno'" flex="15" layout="row">
        <div flex class="colorgrey bottombtn" layout="column" layout-align="center center" ng-click="vm.answer(vm.input)">
            NEXT
        </div>
    </div>
</div>